{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyecto_final/PF-CleenGo/CleenGo-Front/src/app/services/http.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const http = axios.create({\r\n  baseURL: process.env.VITE_BACKEND_URL || \"http://localhost:3000\",\r\n  withCredentials: true,\r\n});\r\n"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEO,MAAM,OAAO,mJAAK,CAAC,MAAM,CAAC;IAC/B,SAAS,8DAAgC;IACzC,iBAAiB;AACnB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyecto_final/PF-CleenGo/CleenGo-Front/src/app/services/auth.ts"],"sourcesContent":["// src/app/services/auth.ts\r\n\r\nimport { http } from \"./http\";\r\n\r\n// --------- Tipos para registro normal ---------\r\nexport interface RegisterClientRequest {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  birthDate: string;\r\n  profileImgUrl?: string;\r\n  phone: string;\r\n}\r\n\r\nexport interface RegisterClientResponse {\r\n  message: string;\r\n  user: any;\r\n  token?: string; // por si el backend devuelve token al registrar\r\n}\r\n\r\nexport interface RegisterProviderRequest {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  birthDate: string;\r\n  profileImgUrl?: string;\r\n  phone: string;\r\n\r\n  // Campos específicos del provider:\r\n  days: string[];  \r\n  hours: string[];  \r\n  about: string;    \r\n}\r\n\r\nexport interface RegisterProviderResponse {\r\n  message: string;\r\n  provider: any;\r\n  token?: string;\r\n}\r\n\r\n\r\n// --------- Tipos para login normal ---------\r\nexport interface LoginRequest {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport interface LoginResponse {\r\n  message: string;\r\n  accessToken: string;\r\n  user: any;\r\n}\r\n\r\n// --------- Tipos para login por terceros (OAuth) ---------\r\nexport interface ThirdPartyLoginRequest {\r\n  accessToken: string;\r\n  name: string | null;\r\n  surname: string | null;\r\n  phone: string | null;\r\n  profileImgUrl: string | null;\r\n}\r\n\r\nexport interface ThirdPartyLoginResponse {\r\n  message: string;\r\n  accessToken: string;\r\n  user: any;\r\n}\r\n\r\n// --------- Servicios ---------\r\nexport async function registerClient(data: RegisterClientRequest) {\r\n  const response = await http.post<RegisterClientResponse>(\r\n    \"/auth/register/client\",\r\n    data\r\n  );\r\n  return response.data;\r\n}\r\n\r\nexport async function login(data: LoginRequest) {\r\n  const response = await http.post<LoginResponse>(\"/auth/login\", data);\r\n  return response.data;\r\n}\r\n\r\nexport async function registerProvider(data: RegisterProviderRequest) {\r\n  const response = await http.post<RegisterProviderResponse>(\r\n    \"/auth/register/provider\",\r\n    data\r\n  );\r\n  return response.data;\r\n}\r\n\r\n\r\n// Login / registro con Google (Supabase OAuth)\r\nexport async function thirdPartyLogin(\r\n  role: \"client\" | \"provider\",\r\n  data: ThirdPartyLoginRequest\r\n) {\r\n  const response = await http.post<ThirdPartyLoginResponse>(\r\n    `/auth/third-party/${role}`,\r\n    data\r\n  );\r\n  return response.data;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;;;;AAE3B;;AAuEO,eAAe,eAAe,IAA2B;IAC9D,MAAM,WAAW,MAAM,yIAAI,CAAC,IAAI,CAC9B,yBACA;IAEF,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,MAAM,IAAkB;IAC5C,MAAM,WAAW,MAAM,yIAAI,CAAC,IAAI,CAAgB,eAAe;IAC/D,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,iBAAiB,IAA6B;IAClE,MAAM,WAAW,MAAM,yIAAI,CAAC,IAAI,CAC9B,2BACA;IAEF,OAAO,SAAS,IAAI;AACtB;AAIO,eAAe,gBACpB,IAA2B,EAC3B,IAA4B;IAE5B,MAAM,WAAW,MAAM,yIAAI,CAAC,IAAI,CAC9B,CAAC,kBAAkB,EAAE,MAAM,EAC3B;IAEF,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyecto_final/PF-CleenGo/CleenGo-Front/src/app/components/RegisterFormProvider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { registerProvider } from \"@/app/services/auth\"\r\nimport { useState } from \"react\";\r\n\r\ninterface ProviderFormData {\r\n    name: string;\r\n    surname: string;\r\n    email: string;\r\n    password: string;\r\n    confirmPassword: string;\r\n    birthDate: string;\r\n    profileImgUrl?: string;\r\n    phone: string;\r\n    days: string[];\r\n    hours: string[];\r\n    about: string;\r\n}\r\n\r\nexport default function RegisterProviderForm() {\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors },\r\n    } = useForm<ProviderFormData>();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const onSubmit = async (data: ProviderFormData) => {\r\n        setLoading(true);\r\n        setError(\"\");\r\n        setSuccess(\"\");\r\n\r\n        try {\r\n            const response = await registerProvider(data);\r\n            setSuccess(\"Proveedor registrado exitosamente\");\r\n        } catch (err: any) {\r\n            setError(err.response?.data?.message || \"Error inesperado\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white shadow-lg rounded-xl p-8 w-full max-w-md\">\r\n            <h2 className=\"text-2xl font-semibold text-center mb-6\">\r\n                Registro Proveedor\r\n            </h2>\r\n\r\n            <form className=\"flex flex-col gap-4\" onSubmit={handleSubmit(onSubmit)}>\r\n                {/* NOMBRE */}\r\n                <div className=\"flex flex-col\">\r\n                    <label className=\"text-gray-700 text-sm font-medium mb-1\">Nombre</label>\r\n                    <input\r\n                        placeholder=\"Ej: Juan\"\r\n                        className=\"border rounded-lg px-3 py-2\"\r\n                        {...register(\"name\", { required: \"El nombre es obligatorio\" })}\r\n                    />\r\n                    {errors.name && <span className=\"text-red-500 text-sm\">{errors.name.message}</span>}\r\n                </div>\r\n\r\n                {/* APELLIDO */}\r\n                <div className=\"flex flex-col\">\r\n                    <label className=\"text-gray-700 text-sm font-medium mb-1\">Apellido</label>\r\n                    <input\r\n                        placeholder=\"Ej: Pérez\"\r\n                        className=\"border rounded-lg px-3 py-2\"\r\n                        {...register(\"surname\", { required: \"El apellido es obligatorio\" })}\r\n                    />\r\n                    {errors.surname && <span className=\"text-red-500 text-sm\">{errors.surname.message}</span>}\r\n                </div>\r\n\r\n                {/* EMAIL */}\r\n                <div className=\"flex flex-col\">\r\n                    <label className=\"text-gray-700 text-sm font-medium mb-1\">Correo</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Ej: juanperez@gmail.com\"\r\n                        className=\"border rounded-lg px-3 py-2\"\r\n                        {...register(\"email\", { required: \"El correo es obligatorio\" })}\r\n                    />\r\n                    {errors.email && <span className=\"text-red-500 text-sm\">{errors.email.message}</span>}\r\n                </div>\r\n\r\n                {/* PASSWORD */}\r\n                <div className=\"flex flex-col\">\r\n                    <label className=\"text-gray-700 text-sm font-medium mb-1\">Contraseña</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Mínimo 8 caracteres\"\r\n                        className=\"border rounded-lg px-3 py-2\"\r\n                        {...register(\"password\", {\r\n                            required: \"La contraseña es obligatoria\",\r\n                            minLength: { value: 8, message: \"Debe tener al menos 8 caracteres\" },\r\n                        })}\r\n                    />\r\n                    {errors.password && <span className=\"text-red-500 text-sm\">{errors.password.message}</span>}\r\n                </div>\r\n\r\n                {/* CONFIRM PASSWORD */}\r\n                <div className=\"flex flex-col\">\r\n                    <label className=\"text-gray-700 text-sm font-medium mb-1\">Confirmar contraseña</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Repite la contraseña\"\r\n                        className=\"border rounded-lg px-3 py-2\"\r\n                        {...register(\"confirmPassword\", { required: \"Debes confirmar la contraseña\" })}\r\n                    />\r\n                    {errors.confirmPassword && (\r\n                        <span className=\"text-red-500 text-sm\">{errors.confirmPassword.message}</span>\r\n                    )}\r\n                </div>\r\n\r\n                {/* BIRTHDATE */}\r\n                <div className=\"flex flex-col\">\r\n                    <label className=\"text-gray-700 text-sm font-medium mb-1\">Fecha de nacimiento</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        className=\"border rounded-lg px-3 py-2\"\r\n                        {...register(\"birthDate\", { required: \"La fecha de nacimiento es obligatoria\" })}\r\n                    />\r\n                    {errors.birthDate && (\r\n                        <span className=\"text-red-500 text-sm\">{errors.birthDate.message}</span>\r\n                    )}\r\n                </div>\r\n\r\n                {/* PROFILE IMG */}\r\n                <div className=\"flex flex-col\">\r\n                    <label className=\"text-gray-700 text-sm font-medium mb-1\">Imagen de perfil (URL)</label>\r\n                    <input\r\n                        placeholder=\"Ej: https://miimagen.com/foto.jpg\"\r\n                        className=\"border rounded-lg px-3 py-2\"\r\n                        {...register(\"profileImgUrl\")}\r\n                    />\r\n                </div>\r\n\r\n                {/* PHONE */}\r\n                <div className=\"flex flex-col\">\r\n                    <label className=\"text-gray-700 text-sm font-medium mb-1\">Teléfono</label>\r\n                    <input\r\n                        placeholder=\"Ej: 987654321\"\r\n                        className=\"border rounded-lg px-3 py-2\"\r\n                        {...register(\"phone\", {\r\n                            required: \"El teléfono es obligatorio\",\r\n                            minLength: { value: 10, message: \"Número muy corto\" },\r\n                        })}\r\n                    />\r\n                    {errors.phone && (\r\n                        <span className=\"text-red-500 text-sm\">{errors.phone.message}</span>\r\n                    )}\r\n                </div>\r\n                {/* DAYS */}\r\n                <div>\r\n                    <p className=\"text-sm font-medium text-gray-700 mb-1\">Días de atención</p>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                        {[\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"].map((day) => (\r\n                            <label key={day} className=\"flex items-center gap-2\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    value={day}\r\n                                    {...register(\"days\", { required: \"Debe seleccionar días\" })}\r\n                                    className=\"w-4 h-4\"\r\n                                />\r\n                                <span>{day}</span>\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {errors.days && (\r\n                        <span className=\"text-red-500 text-sm\">{errors.days.message}</span>\r\n                    )}\r\n                </div>\r\n                {/* HOURS */}\r\n                <div>\r\n                    <p className=\"text-sm font-medium text-gray-700 mb-1\">Horarios disponibles</p>\r\n\r\n                    <div className=\"grid grid-cols-1 gap-2\">\r\n                        {[\"09:00-12:00\", \"14:00-18:00\", \"18:00-21:00\"].map((hour) => (\r\n                            <label key={hour} className=\"flex items-center gap-2\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    value={hour}\r\n                                    {...register(\"hours\", { required: \"Debe seleccionar horas\" })}\r\n                                    className=\"w-4 h-4\"\r\n                                />\r\n                                <span>{hour}</span>\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {errors.hours && (\r\n                        <span className=\"text-red-500 text-sm\">{errors.hours.message}</span>\r\n                    )}\r\n                </div>\r\n                {/* ABOUT */}\r\n                <textarea\r\n                    placeholder=\"Cuéntanos sobre tu experiencia...\"\r\n                    rows={4}\r\n                    className=\"border rounded-lg px-3 py-2\"\r\n                    {...register(\"about\", {\r\n                        required: \"Este campo es obligatorio\",\r\n                        minLength: { value: 20, message: \"Mínimo 20 caracteres\" },\r\n                        maxLength: { value: 250, message: \"Máximo 250 caracteres\" },\r\n                    })}\r\n                />\r\n                {errors.about && (\r\n                    <span className=\"text-red-500 text-sm\">{errors.about.message}</span>\r\n                )}\r\n\r\n                {/* BUTTON */}\r\n                <button\r\n                    disabled={loading}\r\n                    className=\"bg-blue-600 text-white py-2 rounded-lg hover:opacity-90 disabled:opacity-70\"\r\n                >\r\n                    {loading ? \"Registrando...\" : \"Registrarme como Proveedor\"}\r\n                </button>\r\n\r\n                {/* ERRORS */}\r\n                {error && <p className=\"text-red-500 text-sm mt-2\">{error}</p>}\r\n                {success && <p className=\"text-green-600 text-sm mt-2\">{success}</p>}\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}