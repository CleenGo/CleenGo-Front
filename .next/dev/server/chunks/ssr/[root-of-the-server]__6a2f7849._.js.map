{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyecto_final/PF-CleenGo/CleenGo-Front/src/app/services/http.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const http = axios.create({\r\n  baseURL: process.env.VITE_BACKEND_URL || \"http://localhost:3000\",\r\n  withCredentials: true,\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,OAAO,gJAAK,CAAC,MAAM,CAAC;IAC/B,SAAS,8DAAgC;IACzC,iBAAiB;AACnB"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyecto_final/PF-CleenGo/CleenGo-Front/src/app/services/auth.ts"],"sourcesContent":["// src/app/services/auth.ts\r\n\r\nimport { http } from \"./http\";\r\n\r\n// --------- Tipos para registro normal ---------\r\nexport interface RegisterClientRequest {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  birthDate: string;\r\n  profileImgUrl?: string;\r\n  phone: string;\r\n}\r\n\r\nexport interface RegisterClientResponse {\r\n  message: string;\r\n  user: any;\r\n  token?: string; // por si el backend devuelve token al registrar\r\n}\r\n\r\nexport interface RegisterProviderRequest {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  birthDate: string;\r\n  profileImgUrl?: string;\r\n  phone: string;\r\n\r\n  // Campos espec√≠ficos del provider:\r\n  days: string[];  \r\n  hours: string[];  \r\n  about: string;    \r\n}\r\n\r\nexport interface RegisterProviderResponse {\r\n  message: string;\r\n  provider: any;\r\n  token?: string;\r\n}\r\n\r\n\r\n// --------- Tipos para login normal ---------\r\nexport interface LoginRequest {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport interface LoginResponse {\r\n  message: string;\r\n  accessToken: string;\r\n  user: any;\r\n}\r\n\r\n// --------- Tipos para login por terceros (OAuth) ---------\r\nexport interface ThirdPartyLoginRequest {\r\n  accessToken: string;\r\n  name: string | null;\r\n  surname: string | null;\r\n  phone: string | null;\r\n  profileImgUrl: string | null;\r\n}\r\n\r\nexport interface ThirdPartyLoginResponse {\r\n  message: string;\r\n  accessToken: string;\r\n  user: any;\r\n}\r\n\r\n// --------- Servicios ---------\r\nexport async function registerClient(data: RegisterClientRequest) {\r\n  const response = await http.post<RegisterClientResponse>(\r\n    \"/auth/register/client\",\r\n    data\r\n  );\r\n  return response.data;\r\n}\r\n\r\nexport async function login(data: LoginRequest) {\r\n  const response = await http.post<LoginResponse>(\"/auth/login\", data);\r\n  return response.data;\r\n}\r\n\r\nexport async function registerProvider(data: RegisterProviderRequest) {\r\n  const response = await http.post<RegisterProviderResponse>(\r\n    \"/auth/register/provider\",\r\n    data\r\n  );\r\n  return response.data;\r\n}\r\n\r\n\r\n// Login / registro con Google (Supabase OAuth)\r\nexport async function thirdPartyLogin(\r\n  role: \"client\" | \"provider\",\r\n  data: ThirdPartyLoginRequest\r\n) {\r\n  const response = await http.post<ThirdPartyLoginResponse>(\r\n    `/auth/third-party/${role}`,\r\n    data\r\n  );\r\n  return response.data;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;;;;AAE3B;;AAuEO,eAAe,eAAe,IAA2B;IAC9D,MAAM,WAAW,MAAM,sIAAI,CAAC,IAAI,CAC9B,yBACA;IAEF,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,MAAM,IAAkB;IAC5C,MAAM,WAAW,MAAM,sIAAI,CAAC,IAAI,CAAgB,eAAe;IAC/D,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,iBAAiB,IAA6B;IAClE,MAAM,WAAW,MAAM,sIAAI,CAAC,IAAI,CAC9B,2BACA;IAEF,OAAO,SAAS,IAAI;AACtB;AAIO,eAAe,gBACpB,IAA2B,EAC3B,IAA4B;IAE5B,MAAM,WAAW,MAAM,sIAAI,CAAC,IAAI,CAC9B,CAAC,kBAAkB,EAAE,MAAM,EAC3B;IAEF,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyecto_final/PF-CleenGo/CleenGo-Front/src/app/services/supabaseClient.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.VITE_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.VITE_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  console.error(\r\n    \"‚ùå ERROR: Las variables VITE_SUPABASE_URL o VITE_SUPABASE_ANON_KEY NO est√°n accesibles en el cliente.\"\r\n  );\r\n  throw new Error(\"Faltan variables de entorno de Supabase en el cliente.\");\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIA,MAAM;AACN,MAAM;AAEN;;AAOO,MAAM,WAAW,IAAA,uMAAY,EAAC,aAAa"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyecto_final/PF-CleenGo/CleenGo-Front/src/app/components/OAuthLoginButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { supabase } from \"../services/supabaseClient\";\r\n\r\ninterface OAuthLoginButtonProps {\r\n  role: \"client\" | \"provider\";\r\n}\r\n\r\nexport default function OAuthLoginButton({ role }: OAuthLoginButtonProps) {\r\n  const googleLogo = \"https://www.svgrepo.com/show/475656/google-color.svg\";\r\n\r\n  const handleGoogleLogin = async () => {\r\n    // üî• window SOLO se usa dentro del handler (client-safe)\r\n    const redirectURL = `${window.location.origin}/oauth/callback?role=${role}`;\r\n\r\n    const { error } = await supabase.auth.signInWithOAuth({\r\n      provider: \"google\",\r\n      options: {\r\n        redirectTo: redirectURL,\r\n      },\r\n    });\r\n\r\n    if (error) alert(\"Error al iniciar con Google\");\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={handleGoogleLogin}\r\n      className=\"w-full border px-4 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-100 transition\"\r\n    >\r\n      <img src={googleLogo} className=\"w-5 h-5\" />\r\n      Continuar con Google\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQe,SAAS,iBAAiB,EAAE,IAAI,EAAyB;IACtE,MAAM,aAAa;IAEnB,MAAM,oBAAoB;QACxB,yDAAyD;QACzD,MAAM,cAAc,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,MAAM;QAE3E,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,oJAAQ,CAAC,IAAI,CAAC,eAAe,CAAC;YACpD,UAAU;YACV,SAAS;gBACP,YAAY;YACd;QACF;QAEA,IAAI,OAAO,MAAM;IACnB;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;;0BAEV,8OAAC;gBAAI,KAAK;gBAAY,WAAU;;;;;;YAAY;;;;;;;AAIlD"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyecto_final/PF-CleenGo/CleenGo-Front/src/app/components/RegisterFormClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { useState, ChangeEvent, FormEvent } from \"react\";\r\nimport { registerClient } from \"../services/auth\";\r\nimport OAuthLoginButton from \"./OAuthLoginButton\";\r\nimport Swal from \"sweetalert2\";\r\n\r\ninterface FormState {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  birthDate: string;\r\n  profileImgUrl: string;\r\n  phone: string; // solo n√∫mero local\r\n}\r\n\r\ninterface ErrorState {\r\n  name: string;\r\n  surname: string;\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  birthDate: string;\r\n  phone: string;\r\n}\r\n\r\ninterface Country {\r\n  code: string; // +52\r\n  abbr: string; // MX\r\n  flagSrc: string; // /flags/mx.svg\r\n}\r\n\r\n// Lista de pa√≠ses (puedes agregar m√°s)\r\nconst COUNTRIES: Country[] = [\r\n  { code: \"+52\", abbr: \"MX\", flagSrc: \"/flags/mx.svg\" },\r\n  { code: \"+54\", abbr: \"AR\", flagSrc: \"/flags/ar.svg\" },\r\n  { code: \"+51\", abbr: \"PE\", flagSrc: \"/flags/pe.svg\" },\r\n  { code: \"+57\", abbr: \"CO\", flagSrc: \"/flags/co.svg\" },\r\n  { code: \"+56\", abbr: \"CL\", flagSrc: \"/flags/cl.svg\" },\r\n];\r\n\r\n// Iconos SVG para ver / ocultar contrase√±a\r\nconst EyeIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-4 w-4\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2\"\r\n  >\r\n    <path d=\"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z\" />\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n  </svg>\r\n);\r\n\r\nconst EyeOffIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-4 w-4\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2\"\r\n  >\r\n    <path d=\"M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.81 21.81 0 0 1 5.06-6.28\" />\r\n    <path d=\"M9.88 9.88A3 3 0 0 0 12 15a3 3 0 0 0 2.12-.88\" />\r\n    <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\" />\r\n  </svg>\r\n);\r\n\r\nexport default function RegisterFormClient() {\r\n  const [form, setForm] = useState<FormState>({\r\n    name: \"\",\r\n    surname: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    birthDate: \"\",\r\n    profileImgUrl: \"\",\r\n    phone: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState<ErrorState>({\r\n    name: \"\",\r\n    surname: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    birthDate: \"\",\r\n    phone: \"\",\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [selectedCountry, setSelectedCountry] =\r\n    useState<Country>(COUNTRIES[0]);\r\n  const [isCountryOpen, setIsCountryOpen] = useState(false);\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n  // -------------------------------\r\n  // VALIDACIONES EN TIEMPO REAL\r\n  // -------------------------------\r\n  const validateField = (\r\n    field: keyof ErrorState,\r\n    value: string,\r\n    currentForm: FormState\r\n  ) => {\r\n    let msg = \"\";\r\n\r\n    switch (field) {\r\n      case \"name\":\r\n      case \"surname\":\r\n        if (!value.trim()) msg = \"Campo obligatorio\";\r\n        else if (!/^[A-Za-z√Å√â√ç√ì√ö√ú√ë√°√©√≠√≥√∫√º√±\\s]+$/.test(value))\r\n          msg = \"Solo letras y espacios\";\r\n        break;\r\n\r\n      case \"email\":\r\n        if (!value.trim()) msg = \"El correo es obligatorio\";\r\n        else if (!/^\\S+@\\S+\\.\\S+$/.test(value)) msg = \"Correo inv√°lido\";\r\n        break;\r\n\r\n      case \"password\": {\r\n        const strongRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$/;\r\n        if (!value.trim()) msg = \"La contrase√±a es obligatoria\";\r\n        else if (!strongRegex.test(value))\r\n          msg = \"Debe tener may√∫s, min√∫s y n√∫mero (m√≠n 8)\";\r\n        else if (\r\n          currentForm.confirmPassword &&\r\n          value !== currentForm.confirmPassword\r\n        )\r\n          msg = \"Las contrase√±as no coinciden\";\r\n        break;\r\n      }\r\n\r\n      case \"confirmPassword\":\r\n        if (!value.trim()) msg = \"Confirma tu contrase√±a\";\r\n        else if (value !== currentForm.password)\r\n          msg = \"Las contrase√±as no coinciden\";\r\n        break;\r\n\r\n      case \"phone\": {\r\n        if (!value.trim()) msg = \"El tel√©fono es obligatorio\";\r\n        else if (!/^\\d+$/.test(value)) msg = \"Solo n√∫meros\";\r\n        else {\r\n          const fullPhone = `${selectedCountry.code}${value}`;\r\n          if (fullPhone.length < 10)\r\n            msg = \"Debe tener m√≠nimo 10 caracteres (incl. lada)\";\r\n          else if (fullPhone.length > 15)\r\n            msg = \"M√°ximo 15 caracteres (incl. lada)\";\r\n        }\r\n        break;\r\n      }\r\n\r\n      case \"birthDate\": {\r\n        if (!value.trim()) {\r\n          msg = \"Fecha obligatoria\";\r\n        } else {\r\n          const birthDate = new Date(value);\r\n          const today = new Date();\r\n          if (isNaN(birthDate.getTime())) msg = \"Fecha inv√°lida\";\r\n          else if (birthDate.getFullYear() < 1900 || birthDate > today)\r\n            msg = \"A√±o fuera de rango (1900‚Äìhoy)\";\r\n          else {\r\n            const age = today.getFullYear() - birthDate.getFullYear();\r\n            const m = today.getMonth() - birthDate.getMonth();\r\n            const d = today.getDate() - birthDate.getDate();\r\n            const realAge = m > 0 || (m === 0 && d >= 0) ? age : age - 1;\r\n            if (realAge < 18) msg = \"Debes ser mayor de edad (‚â•18 a√±os)\";\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    setErrors((prev) => ({ ...prev, [field]: msg }));\r\n  };\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    const updated = { ...form, [name]: value };\r\n    setForm(updated);\r\n    validateField(name as keyof ErrorState, value, updated);\r\n  };\r\n\r\n  const allValid = () => {\r\n    const filled =\r\n      form.name &&\r\n      form.surname &&\r\n      form.email &&\r\n      form.password &&\r\n      form.confirmPassword &&\r\n      form.birthDate &&\r\n      form.phone;\r\n\r\n    const noErrors = Object.values(errors).every((e) => e === \"\");\r\n\r\n    return !!(filled && noErrors);\r\n  };\r\n\r\n  // -------------------------------\r\n  // SUBMIT\r\n  // -------------------------------\r\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (!allValid()) {\r\n      Swal.fire({\r\n        icon: \"warning\",\r\n        title: \"Formulario incompleto\",\r\n        text: \"Revisa los campos marcados en rojo.\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    const fullPhone = `${selectedCountry.code}${form.phone}`;\r\n\r\n    const bodyToSend = {\r\n      ...form,\r\n      phone: fullPhone,\r\n      profileImgUrl:\r\n        form.profileImgUrl.trim() === \"\" ? undefined : form.profileImgUrl,\r\n    };\r\n\r\n    try {\r\n      await registerClient(bodyToSend);\r\n\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Registro exitoso\",\r\n        text: \"Cliente registrado correctamente.\",\r\n      });\r\n\r\n      setForm({\r\n        name: \"\",\r\n        surname: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        birthDate: \"\",\r\n        profileImgUrl: \"\",\r\n        phone: \"\",\r\n      });\r\n      setErrors({\r\n        name: \"\",\r\n        surname: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        birthDate: \"\",\r\n        phone: \"\",\r\n      });\r\n      setSelectedCountry(COUNTRIES[0]);\r\n    } catch (err: any) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Error\",\r\n        text: err?.response?.data?.message || \"Ocurri√≥ un error\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // -------------------------------\r\n  // UI\r\n  // -------------------------------\r\n  return (\r\n    <div className=\"bg-white shadow-lg rounded-xl p-8 w-full max-w-md\">\r\n      {/* LOGO */}\r\n      <div className=\"flex justify-center mb-0\">\r\n        <Image\r\n          src=\"/logo-vertical-sin-fondo.png\"\r\n          alt=\"CleenGo Logo\"\r\n          width={150}\r\n          height={150}\r\n          className=\"object-contain\"\r\n        />\r\n      </div>\r\n\r\n      <h2 className=\"text-2xl font-semibold text-center mb-6\">\r\n        Registro Cliente\r\n      </h2>\r\n\r\n      <form className=\"flex flex-col gap-4\" onSubmit={handleSubmit}>\r\n        {/* NOMBRE */}\r\n        <div className=\"flex flex-col\">\r\n          <label>Nombre</label>\r\n          <input\r\n            name=\"name\"\r\n            value={form.name}\r\n            onChange={handleChange}\r\n            placeholder=\"Ej: Juan\"\r\n            className=\"border px-3 py-2 rounded-lg\"\r\n          />\r\n          {errors.name && <p className=\"text-red-500 text-sm\">{errors.name}</p>}\r\n        </div>\r\n\r\n        {/* APELLIDO */}\r\n        <div className=\"flex flex-col\">\r\n          <label>Apellido</label>\r\n          <input\r\n            name=\"surname\"\r\n            value={form.surname}\r\n            onChange={handleChange}\r\n            placeholder=\"Ej: P√©rez\"\r\n            className=\"border px-3 py-2 rounded-lg\"\r\n          />\r\n          {errors.surname && (\r\n            <p className=\"text-red-500 text-sm\">{errors.surname}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* EMAIL */}\r\n        <div className=\"flex flex-col\">\r\n          <label>Correo</label>\r\n          <input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            placeholder=\"Ej: correo@gmail.com\"\r\n            className=\"border px-3 py-2 rounded-lg\"\r\n          />\r\n          {errors.email && (\r\n            <p className=\"text-red-500 text-sm\">{errors.email}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* PASSWORD */}\r\n        <div className=\"flex flex-col\">\r\n          <label>Contrase√±a</label>\r\n          <div className=\"flex items-center border rounded-lg px-3 py-2\">\r\n            <input\r\n              name=\"password\"\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              value={form.password}\r\n              onChange={handleChange}\r\n              className=\"flex-1 outline-none\"\r\n              placeholder=\"********\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPassword((v) => !v)}\r\n              className=\"ml-2 text-gray-600 hover:text-black\"\r\n            >\r\n              {showPassword ? <EyeOffIcon /> : <EyeIcon />}\r\n            </button>\r\n          </div>\r\n          {errors.password && (\r\n            <p className=\"text-red-500 text-sm\">{errors.password}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* CONFIRM PASSWORD */}\r\n        <div className=\"flex flex-col\">\r\n          <label>Confirmar contrase√±a</label>\r\n          <div className=\"flex items-center border rounded-lg px-3 py-2\">\r\n            <input\r\n              name=\"confirmPassword\"\r\n              type={showConfirmPassword ? \"text\" : \"password\"}\r\n              value={form.confirmPassword}\r\n              onChange={handleChange}\r\n              className=\"flex-1 outline-none\"\r\n              placeholder=\"********\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowConfirmPassword((v) => !v)}\r\n              className=\"ml-2 text-gray-600 hover:text-black\"\r\n            >\r\n              {showConfirmPassword ? <EyeOffIcon /> : <EyeIcon />}\r\n            </button>\r\n          </div>\r\n          {errors.confirmPassword && (\r\n            <p className=\"text-red-500 text-sm\">{errors.confirmPassword}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* FECHA DE NACIMIENTO */}\r\n        <div className=\"flex flex-col\">\r\n          <label>Fecha de nacimiento</label>\r\n          <input\r\n            name=\"birthDate\"\r\n            type=\"date\"\r\n            value={form.birthDate}\r\n            onChange={handleChange}\r\n            className=\"border px-3 py-2 rounded-lg\"\r\n          />\r\n          {errors.birthDate && (\r\n            <p className=\"text-red-500 text-sm\">{errors.birthDate}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* IMG PERFIL */}\r\n        <div className=\"flex flex-col\">\r\n          <label>Imagen de perfil (URL)</label>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              name=\"profileImgUrl\"\r\n              value={form.profileImgUrl}\r\n              onChange={handleChange}\r\n              placeholder=\"Ej: https://miimagen.com/foto.jpg\"\r\n              className=\"border px-3 py-2 rounded-lg flex-1\"\r\n            />\r\n\r\n            {/* Bot√≥n para subir archivo (dise√±o igual al que pediste) */}\r\n            <label className=\"bg-gray-200 px-3 py-2 rounded-lg cursor-pointer hover:bg-gray-300 text-sm whitespace-nowrap flex items-center gap-2\">\r\n              Subir\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                className=\"hidden\"\r\n                onChange={(e) => {\r\n                  if (e.target.files?.[0]) {\r\n                    const fileUrl = URL.createObjectURL(e.target.files[0]);\r\n                    setForm((prev) => ({ ...prev, profileImgUrl: fileUrl }));\r\n                    // intentar re-validar (si quieres validar la URL, pero ErrorState no tiene profileImgUrl)\r\n                    // no llamamos validateField porque profileImgUrl no est√° en ErrorState\r\n                  }\r\n                }}\r\n              />\r\n            </label>\r\n          </div>\r\n\r\n          {/* Vista previa */}\r\n          {form.profileImgUrl && (\r\n            <div className=\"mt-3 flex justify-center\">\r\n              <img\r\n                src={form.profileImgUrl}\r\n                alt=\"Vista previa\"\r\n                className=\"w-28 h-28 object-cover rounded-full border shadow-sm\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* TEL√âFONO CON BANDERA SVG + C√ìDIGO */}\r\n        <div className=\"flex flex-col\">\r\n          <label>Tel√©fono</label>\r\n\r\n          <div className=\"flex gap-2 items-center\">\r\n            {/* Dropdown custom con bandera + c√≥digo + MX */}\r\n            <div className=\"relative\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setIsCountryOpen((prev) => !prev)}\r\n                className=\"flex items-center gap-2 border rounded-lg px-3 py-2 bg-white min-w-[130px]\"\r\n              >\r\n                <Image\r\n                  src={selectedCountry.flagSrc}\r\n                  alt={selectedCountry.abbr}\r\n                  width={20}\r\n                  height={14}\r\n                  className=\"rounded-sm object-cover\"\r\n                />\r\n                <span className=\"text-sm\">\r\n                  {selectedCountry.code} {selectedCountry.abbr}\r\n                </span>\r\n                <span className=\"ml-auto text-xs\">‚ñº</span>\r\n              </button>\r\n\r\n              {isCountryOpen && (\r\n                <div className=\"absolute z-20 mt-1 w-full bg-white border rounded-lg shadow-md\">\r\n                  {COUNTRIES.map((c) => (\r\n                    <button\r\n                      key={c.code}\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        setSelectedCountry(c);\r\n                        setIsCountryOpen(false);\r\n                        if (form.phone) {\r\n                          validateField(\"phone\", form.phone, form);\r\n                        }\r\n                      }}\r\n                      className=\"flex w-full items-center gap-2 px-3 py-2 hover:bg-gray-100 text-left\"\r\n                    >\r\n                      <Image\r\n                        src={c.flagSrc}\r\n                        alt={c.abbr}\r\n                        width={20}\r\n                        height={14}\r\n                        className=\"rounded-sm object-cover\"\r\n                      />\r\n                      <span className=\"text-sm\">\r\n                        {c.code} {c.abbr}\r\n                      </span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* N√∫mero local */}\r\n            <input\r\n              name=\"phone\"\r\n              value={form.phone}\r\n              onChange={handleChange}\r\n              placeholder=\"1234567890\"\r\n              className=\"border px-3 py-2 rounded-lg flex-1\"\r\n              maxLength={15}\r\n            />\r\n          </div>\r\n\r\n          {errors.phone && (\r\n            <p className=\"text-red-500 text-sm mt-1\">{errors.phone}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* BOT√ìN */}\r\n        <button\r\n          disabled={!allValid() || loading}\r\n          className=\"bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:opacity-60\"\r\n        >\r\n          {loading ? \"Registrando...\" : \"Registrarme\"}\r\n        </button>\r\n\r\n        <div className=\"mt-4\">\r\n          <OAuthLoginButton role=\"client\" />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAmCA,uCAAuC;AACvC,MAAM,YAAuB;IAC3B;QAAE,MAAM;QAAO,MAAM;QAAM,SAAS;IAAgB;IACpD;QAAE,MAAM;QAAO,MAAM;QAAM,SAAS;IAAgB;IACpD;QAAE,MAAM;QAAO,MAAM;QAAM,SAAS;IAAgB;IACpD;QAAE,MAAM;QAAO,MAAM;QAAM,SAAS;IAAgB;IACpD;QAAE,MAAM;QAAO,MAAM;QAAM,SAAS;IAAgB;CACrD;AAED,2CAA2C;AAC3C,MAAM,UAAU,kBACd,8OAAC;QACC,OAAM;QACN,WAAU;QACV,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;;0BAEZ,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAK,GAAE;;;;;;;;;;;;AAI9B,MAAM,aAAa,kBACjB,8OAAC;QACC,OAAM;QACN,WAAU;QACV,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;;0BAEZ,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAK,IAAG;gBAAI,IAAG;gBAAI,IAAG;gBAAK,IAAG;;;;;;;;;;;;AAIpB,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAY;QAC1C,MAAM;QACN,SAAS;QACT,OAAO;QACP,UAAU;QACV,iBAAiB;QACjB,WAAW;QACX,eAAe;QACf,OAAO;IACT;IAEA,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAa;QAC/C,MAAM;QACN,SAAS;QACT,OAAO;QACP,UAAU;QACV,iBAAiB;QACjB,WAAW;QACX,OAAO;IACT;IAEA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,CAAC,iBAAiB,mBAAmB,GACzC,IAAA,iNAAQ,EAAU,SAAS,CAAC,EAAE;IAChC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,iNAAQ,EAAC;IAE/D,kCAAkC;IAClC,8BAA8B;IAC9B,kCAAkC;IAClC,MAAM,gBAAgB,CACpB,OACA,OACA;QAEA,IAAI,MAAM;QAEV,OAAQ;YACN,KAAK;YACL,KAAK;gBACH,IAAI,CAAC,MAAM,IAAI,IAAI,MAAM;qBACpB,IAAI,CAAC,8BAA8B,IAAI,CAAC,QAC3C,MAAM;gBACR;YAEF,KAAK;gBACH,IAAI,CAAC,MAAM,IAAI,IAAI,MAAM;qBACpB,IAAI,CAAC,iBAAiB,IAAI,CAAC,QAAQ,MAAM;gBAC9C;YAEF,KAAK;gBAAY;oBACf,MAAM,cAAc;oBACpB,IAAI,CAAC,MAAM,IAAI,IAAI,MAAM;yBACpB,IAAI,CAAC,YAAY,IAAI,CAAC,QACzB,MAAM;yBACH,IACH,YAAY,eAAe,IAC3B,UAAU,YAAY,eAAe,EAErC,MAAM;oBACR;gBACF;YAEA,KAAK;gBACH,IAAI,CAAC,MAAM,IAAI,IAAI,MAAM;qBACpB,IAAI,UAAU,YAAY,QAAQ,EACrC,MAAM;gBACR;YAEF,KAAK;gBAAS;oBACZ,IAAI,CAAC,MAAM,IAAI,IAAI,MAAM;yBACpB,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,MAAM;yBAChC;wBACH,MAAM,YAAY,GAAG,gBAAgB,IAAI,GAAG,OAAO;wBACnD,IAAI,UAAU,MAAM,GAAG,IACrB,MAAM;6BACH,IAAI,UAAU,MAAM,GAAG,IAC1B,MAAM;oBACV;oBACA;gBACF;YAEA,KAAK;gBAAa;oBAChB,IAAI,CAAC,MAAM,IAAI,IAAI;wBACjB,MAAM;oBACR,OAAO;wBACL,MAAM,YAAY,IAAI,KAAK;wBAC3B,MAAM,QAAQ,IAAI;wBAClB,IAAI,MAAM,UAAU,OAAO,KAAK,MAAM;6BACjC,IAAI,UAAU,WAAW,KAAK,QAAQ,YAAY,OACrD,MAAM;6BACH;4BACH,MAAM,MAAM,MAAM,WAAW,KAAK,UAAU,WAAW;4BACvD,MAAM,IAAI,MAAM,QAAQ,KAAK,UAAU,QAAQ;4BAC/C,MAAM,IAAI,MAAM,OAAO,KAAK,UAAU,OAAO;4BAC7C,MAAM,UAAU,IAAI,KAAM,MAAM,KAAK,KAAK,IAAK,MAAM,MAAM;4BAC3D,IAAI,UAAU,IAAI,MAAM;wBAC1B;oBACF;oBACA;gBACF;QACF;QAEA,UAAU,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,MAAM,EAAE;YAAI,CAAC;IAChD;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,MAAM,UAAU;YAAE,GAAG,IAAI;YAAE,CAAC,KAAK,EAAE;QAAM;QACzC,QAAQ;QACR,cAAc,MAA0B,OAAO;IACjD;IAEA,MAAM,WAAW;QACf,MAAM,SACJ,KAAK,IAAI,IACT,KAAK,OAAO,IACZ,KAAK,KAAK,IACV,KAAK,QAAQ,IACb,KAAK,eAAe,IACpB,KAAK,SAAS,IACd,KAAK,KAAK;QAEZ,MAAM,WAAW,OAAO,MAAM,CAAC,QAAQ,KAAK,CAAC,CAAC,IAAM,MAAM;QAE1D,OAAO,CAAC,CAAC,CAAC,UAAU,QAAQ;IAC9B;IAEA,kCAAkC;IAClC,SAAS;IACT,kCAAkC;IAClC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,YAAY;YACf,2KAAI,CAAC,IAAI,CAAC;gBACR,MAAM;gBACN,OAAO;gBACP,MAAM;YACR;YACA;QACF;QAEA,WAAW;QAEX,MAAM,YAAY,GAAG,gBAAgB,IAAI,GAAG,KAAK,KAAK,EAAE;QAExD,MAAM,aAAa;YACjB,GAAG,IAAI;YACP,OAAO;YACP,eACE,KAAK,aAAa,CAAC,IAAI,OAAO,KAAK,YAAY,KAAK,aAAa;QACrE;QAEA,IAAI;YACF,MAAM,IAAA,gJAAc,EAAC;YAErB,2KAAI,CAAC,IAAI,CAAC;gBACR,MAAM;gBACN,OAAO;gBACP,MAAM;YACR;YAEA,QAAQ;gBACN,MAAM;gBACN,SAAS;gBACT,OAAO;gBACP,UAAU;gBACV,iBAAiB;gBACjB,WAAW;gBACX,eAAe;gBACf,OAAO;YACT;YACA,UAAU;gBACR,MAAM;gBACN,SAAS;gBACT,OAAO;gBACP,UAAU;gBACV,iBAAiB;gBACjB,WAAW;gBACX,OAAO;YACT;YACA,mBAAmB,SAAS,CAAC,EAAE;QACjC,EAAE,OAAO,KAAU;YACjB,2KAAI,CAAC,IAAI,CAAC;gBACR,MAAM;gBACN,OAAO;gBACP,MAAM,KAAK,UAAU,MAAM,WAAW;YACxC;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,kCAAkC;IAClC,KAAK;IACL,kCAAkC;IAClC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,wIAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAU;;;;;;;;;;;0BAId,8OAAC;gBAAG,WAAU;0BAA0C;;;;;;0BAIxD,8OAAC;gBAAK,WAAU;gBAAsB,UAAU;;kCAE9C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCACC,MAAK;gCACL,OAAO,KAAK,IAAI;gCAChB,UAAU;gCACV,aAAY;gCACZ,WAAU;;;;;;4BAEX,OAAO,IAAI,kBAAI,8OAAC;gCAAE,WAAU;0CAAwB,OAAO,IAAI;;;;;;;;;;;;kCAIlE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCACC,MAAK;gCACL,OAAO,KAAK,OAAO;gCACnB,UAAU;gCACV,aAAY;gCACZ,WAAU;;;;;;4BAEX,OAAO,OAAO,kBACb,8OAAC;gCAAE,WAAU;0CAAwB,OAAO,OAAO;;;;;;;;;;;;kCAKvD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCACC,MAAK;gCACL,MAAK;gCACL,OAAO,KAAK,KAAK;gCACjB,UAAU;gCACV,aAAY;gCACZ,WAAU;;;;;;4BAEX,OAAO,KAAK,kBACX,8OAAC;gCAAE,WAAU;0CAAwB,OAAO,KAAK;;;;;;;;;;;;kCAKrD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,MAAK;wCACL,MAAM,eAAe,SAAS;wCAC9B,OAAO,KAAK,QAAQ;wCACpB,UAAU;wCACV,WAAU;wCACV,aAAY;;;;;;kDAEd,8OAAC;wCACC,MAAK;wCACL,SAAS,IAAM,gBAAgB,CAAC,IAAM,CAAC;wCACvC,WAAU;kDAET,6BAAe,8OAAC;;;;iEAAgB,8OAAC;;;;;;;;;;;;;;;;4BAGrC,OAAO,QAAQ,kBACd,8OAAC;gCAAE,WAAU;0CAAwB,OAAO,QAAQ;;;;;;;;;;;;kCAKxD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,MAAK;wCACL,MAAM,sBAAsB,SAAS;wCACrC,OAAO,KAAK,eAAe;wCAC3B,UAAU;wCACV,WAAU;wCACV,aAAY;;;;;;kDAEd,8OAAC;wCACC,MAAK;wCACL,SAAS,IAAM,uBAAuB,CAAC,IAAM,CAAC;wCAC9C,WAAU;kDAET,oCAAsB,8OAAC;;;;iEAAgB,8OAAC;;;;;;;;;;;;;;;;4BAG5C,OAAO,eAAe,kBACrB,8OAAC;gCAAE,WAAU;0CAAwB,OAAO,eAAe;;;;;;;;;;;;kCAK/D,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCACC,MAAK;gCACL,MAAK;gCACL,OAAO,KAAK,SAAS;gCACrB,UAAU;gCACV,WAAU;;;;;;4BAEX,OAAO,SAAS,kBACf,8OAAC;gCAAE,WAAU;0CAAwB,OAAO,SAAS;;;;;;;;;;;;kCAKzD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CAEP,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,MAAK;wCACL,OAAO,KAAK,aAAa;wCACzB,UAAU;wCACV,aAAY;wCACZ,WAAU;;;;;;kDAIZ,8OAAC;wCAAM,WAAU;;4CAAsH;0DAErI,8OAAC;gDACC,MAAK;gDACL,QAAO;gDACP,WAAU;gDACV,UAAU,CAAC;oDACT,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE;wDACvB,MAAM,UAAU,IAAI,eAAe,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;wDACrD,QAAQ,CAAC,OAAS,CAAC;gEAAE,GAAG,IAAI;gEAAE,eAAe;4DAAQ,CAAC;oDACtD,0FAA0F;oDAC1F,uEAAuE;oDACzE;gDACF;;;;;;;;;;;;;;;;;;4BAML,KAAK,aAAa,kBACjB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,KAAK,KAAK,aAAa;oCACvB,KAAI;oCACJ,WAAU;;;;;;;;;;;;;;;;;kCAOlB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CAEP,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,MAAK;gDACL,SAAS,IAAM,iBAAiB,CAAC,OAAS,CAAC;gDAC3C,WAAU;;kEAEV,8OAAC,wIAAK;wDACJ,KAAK,gBAAgB,OAAO;wDAC5B,KAAK,gBAAgB,IAAI;wDACzB,OAAO;wDACP,QAAQ;wDACR,WAAU;;;;;;kEAEZ,8OAAC;wDAAK,WAAU;;4DACb,gBAAgB,IAAI;4DAAC;4DAAE,gBAAgB,IAAI;;;;;;;kEAE9C,8OAAC;wDAAK,WAAU;kEAAkB;;;;;;;;;;;;4CAGnC,+BACC,8OAAC;gDAAI,WAAU;0DACZ,UAAU,GAAG,CAAC,CAAC,kBACd,8OAAC;wDAEC,MAAK;wDACL,SAAS;4DACP,mBAAmB;4DACnB,iBAAiB;4DACjB,IAAI,KAAK,KAAK,EAAE;gEACd,cAAc,SAAS,KAAK,KAAK,EAAE;4DACrC;wDACF;wDACA,WAAU;;0EAEV,8OAAC,wIAAK;gEACJ,KAAK,EAAE,OAAO;gEACd,KAAK,EAAE,IAAI;gEACX,OAAO;gEACP,QAAQ;gEACR,WAAU;;;;;;0EAEZ,8OAAC;gEAAK,WAAU;;oEACb,EAAE,IAAI;oEAAC;oEAAE,EAAE,IAAI;;;;;;;;uDAnBb,EAAE,IAAI;;;;;;;;;;;;;;;;kDA4BrB,8OAAC;wCACC,MAAK;wCACL,OAAO,KAAK,KAAK;wCACjB,UAAU;wCACV,aAAY;wCACZ,WAAU;wCACV,WAAW;;;;;;;;;;;;4BAId,OAAO,KAAK,kBACX,8OAAC;gCAAE,WAAU;0CAA6B,OAAO,KAAK;;;;;;;;;;;;kCAK1D,8OAAC;wBACC,UAAU,CAAC,cAAc;wBACzB,WAAU;kCAET,UAAU,mBAAmB;;;;;;kCAGhC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,wJAAgB;4BAAC,MAAK;;;;;;;;;;;;;;;;;;;;;;;AAKjC"}}]
}